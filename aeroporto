#include <iostream>
#include <fstream>
#include <stdlib.h                                                                     >
using namespace std;

typedef struct Nodo
{
    string cidade, sigla;
    int cod;
    struct Nodo *prox;
} Aeroporto;

typedef struct Nodo2
{
    int cod, codvoo;
    struct Nodo2 *prox;
} Voo;

int pesquisaCodigo(Aeroporto *aero, int elem)
{
    if (aero==NULL)
        return NULL;
    while(aero!=NULL)
    {
        if(aero->cod==elem)
            return aero->cod;
        aero=aero->prox;
    }
    return -1;
}

void CadastraAeroporto(Aeroporto **aero)
{
    Aeroporto *p, *pant;
    int i=0;

    p=new Aeroporto;
    if(p==NULL)
    {
        cout << "Sem memória.";
        cin.get();
        exit(1);
    }
    cout << "CADASTRO AEROPORTO" << endl;
    cout << "Informe a cidade: ";
    getline(cin,p->cidade);
    cout << "Informe a sigla: ";
    getline(cin,p->sigla);
    p->cod=++i;
    cout << p->cod;

    p->prox=NULL;
    if (*aero==NULL)
    {
        *aero=p;
        return;
    }

    pant=*aero;
    while (pant->prox!=NULL)
        pant=pant->prox;
    pant->prox=p;

    cout << "Aeroporto cadastrado!" << endl;
}

void CadastraVoo(Aeroporto *aero, Voo **v)
{
    Voo *p, *pant;
    int i, codigo;

    cout << "CADASTRO VOO" << endl;
    cout << "Informe o código do aeroporto: ";
    cin >> i;
    codigo=pesquisaCodigo(aero,i);
    if(codigo==-1)
    {
        cout << "Aeroporto inexistente. Não foi possível cadastrar voo." << endl;
        return;
    }
    p=new Voo;
    if(p==NULL)
    {
        cout << "Sem memória.";
        cin.get();
        exit(1);
    }
    p->cod=codigo;
    srand(time(NULL));
    p->codvoo=rand()%500+1;

    p->prox=NULL;
    if (*v==NULL)
    {
        *aero=p;
        return;
    }

    pant=*aero;
    while (pant->prox!=NULL)
        pant=pant->prox;
    pant->prox=p;
}

void MostraAeroportos(Aeroporto *aero)
{
    Aeroporto *p = aero;
    cout << "Aeroportos cadastrados:" << endl;
    while (p != NULL)
    {
        cout << p->cod << " - " << p->sigla << " - " << p->cidade << endl;
        p = p->prox;
    }
}

void MostraVoos(Voos *v)
{
    Voos *p = v;
    cout << "Aeroportos cadastrados:" << endl;
    while (p != NULL)
    {
        cout << p->cod << " - " << p->codvoo << endl;
        p = p->prox2;
    }
}

int main()
{

    return 0;
}
